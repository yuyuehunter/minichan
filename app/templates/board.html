{% extends "layout.html" %}

{% block body %}

    <div id="board-list-nav">
        <span>[</span>
            <a href="/all" class="pretty-link">a</a> /
            <a href="#" class="pretty-link">b</a> /
            <a href="#" class="pretty-link">c</a> /
            <a href="#" class="pretty-link">d</a> /
            <a href="#" class="pretty-link">hue</a> /
        <span>]</span>
        <span>[<a href="/">Home</a>]</span>
    </div>

    <div id="board-title">
        <h2>{{"/" + category['url'] + "/ - " + category['name']}}</h2>
    </div>

    <hr></hr>

    <h1 id="new-trigger">[<a href="#" onclick="show_form();">Start a New Thread</a>]</h1>

    <div id="new-thread">
        <form method="post" action="">
            <table>
                <tr>
                    <td>Name</td>
                    <td><input type="text" placeholder="Anonymous" name="name"></td>
                </tr>
                <tr>
                    <td>Subject</td>
                    <td><input type="text" name="subject"><input type="submit" value="Post"></td>
                </tr>
                <tr>
                    <td>Comment</td>
                    <td><textarea rows="4" cols="30" type="text" name="comment"></textarea></td>
                </tr>
                <tr>
                    <td>File</td>
                    <td><input type="file" name="file"></td>
                </tr>
            </table>
        </form>
    </div>
    
    <script>
        function show_form() {
            document.getElementById("new-trigger").style.display = "none";
            document.getElementById("new-thread").style.display = "table";
        }
    </script>

    <hr></hr>

    {% if (not posts) %}
        <h1>It looks like empty...Post something</h1>
    {% endif %}

    {% for post in posts %}
        <div id="thread">
            <h4>{{post.title}} {{post.author}} >> No {{post.id}}</h4>
            <p>{{post.text}}</p>
            {% for a in allcomm %}
                {% if allcomm.index(a) == post.id-1 %}
                    {% for j in allcomm[allcomm.index(a)] %}
                        <div id="comment-div" class="dark-bg">
                            <p>{{j.comment}}</p>
                        </div>

                        <br>
                        <span></span>
                        <br>
                    {% endfor %}
                {% endif %}
            {% endfor %}
            <hr></hr>
        </div>
    {% endfor %}
    
{% endblock %}
